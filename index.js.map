{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js"],"sourcesContent":["// @ts-nocheck\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst gallery = document.querySelector(\".gallery\")\n\n\nconst renderImages = (data) => {\n    const { hits } = data;\n    \n    if (hits.length === 0) {\n        iziToast.show({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            messageColor: 'white',\n            position: 'topRight',\n            backgroundColor: 'red',\n            close: false,\n            progressBar: false,\n        })\n        return \"\"\n    }\n    \n    return hits\n        .map(\n            ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n                return `\n                <div class=\"image-card\">\n            <a href=\"${largeImageURL}\" target=\"_blank\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"image-info\">\n                <p>Likes ${likes}</p>\n                <p>Views ${views}</p>\n                <p>Comments ${comments}</p>\n                <p>Downloads ${downloads}</p>\n            </div>\n        </div>`\n            }\n    ).join(\"\") \n    \n}\n\nexport const renderGallery = (data) => {\n    const markup = renderImages(data);\n    gallery.innerHTML = markup;\n    const lightbox = new SimpleLightbox(\".gallery a\", {\n         captions: true,\n    captionsData: \"alt\",\n        captionDelay: 250,\n    })\n    lightbox.refresh()\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { renderGallery } from \"./render-functions\";\n\nconst gallery = document.querySelector(\".gallery\")\nconst APIKEY = \"48409892-84416e27ee3da12ba614fc4d7\"\nconst form = document.querySelector(\"form\")\nfunction onSubmit(e) {\n    e.preventDefault()\n    const formData = new FormData(e.target)\n    const query = formData.get(\"search-input\")\n\n    if (!query) {\n        iziToast.show({\n            message: \"Input is empty!\",\n            messageColor: 'white',\n            position: 'topRight',\n            backgroundColor: 'red',\n            close: false,\n            progressBar: false,\n        })\n        return\n    }\n    form.reset()\n    fetchImages(query)\n}\n\n\nfunction fetchImages(query) {\n    const options = {\n    key: APIKEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n}\n\n    const params = new URLSearchParams(options).toString();\n    const url = `https://pixabay.com/api/?${params}`;\n\n    gallery.innerHTML = `<span class=\"loader\"></span>`;\n    return fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status)\n            }\n            return response.json()            \n        })\n        .then((data) => {\n            renderGallery(data)\n        })\n        .catch((err) => {\n        console.error(\"Error:\", err);\n    })\n}\n\n\nform.addEventListener(\"submit\", onSubmit)\n"],"names":["gallery","renderImages","data","hits","iziToast","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","markup","SimpleLightbox","APIKEY","form","onSubmit","e","query","fetchImages","options","url","response","err"],"mappings":"wvBAOA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAgBC,GAAS,CAC3B,KAAM,CAAE,KAAAC,CAAM,EAAGD,EAEjB,OAAIC,EAAK,SAAW,GAChBC,EAAS,KAAK,CACV,QAAS,2EACT,aAAc,QACd,SAAU,WACV,gBAAiB,MACjB,MAAO,GACP,YAAa,EACzB,CAAS,EACM,IAGJD,EACF,IACG,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACnD;AAAA;AAAA,uBAEAL,CAAa;AAAA,4BACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2BAG3BC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA,eAIxC,EAAM,KAAK,EAAE,CAEb,EAEaC,EAAiBV,GAAS,CACnC,MAAMW,EAASZ,EAAaC,CAAI,EAChCF,EAAQ,UAAYa,EACH,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACf,aAAc,MACV,aAAc,GACtB,CAAK,EACQ,QAAS,CACtB,EClDMd,EAAU,SAAS,cAAc,UAAU,EAC3Ce,EAAS,qCACTC,EAAO,SAAS,cAAc,MAAM,EAC1C,SAASC,EAASC,EAAG,CACjBA,EAAE,eAAgB,EAElB,MAAMC,EADW,IAAI,SAASD,EAAE,MAAM,EACf,IAAI,cAAc,EAEzC,GAAI,CAACC,EAAO,CACRf,EAAS,KAAK,CACV,QAAS,kBACT,aAAc,QACd,SAAU,WACV,gBAAiB,MACjB,MAAO,GACP,YAAa,EACzB,CAAS,EACD,MACH,CACDY,EAAK,MAAO,EACZI,EAAYD,CAAK,CACrB,CAGA,SAASC,EAAYD,EAAO,CACxB,MAAME,EAAU,CAChB,IAAKN,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAGUG,EAAM,4BADG,IAAI,gBAAgBD,CAAO,EAAE,SAAQ,CACN,GAE9C,OAAArB,EAAQ,UAAY,+BACb,MAAMsB,CAAG,EACX,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,KAAMrB,GAAS,CACZU,EAAcV,CAAI,CAC9B,CAAS,EACA,MAAOsB,GAAQ,CAChB,QAAQ,MAAM,SAAUA,CAAG,CACnC,CAAK,CACL,CAGAR,EAAK,iBAAiB,SAAUC,CAAQ"}